
# 平台更新记录
📣 本页记录公告信息 & 平台改进历史中较为重要的部分。

***

# 2021年

### 6月
* `23号` 即日起，提现结算需完成[`实名认证`](//www.mcrmb.com/Main/editVertify)。若无法提供实名认证信息，请使用企业支付宝或企业银行卡进行结算，并做好开票准备。若均无法提供，请停止使用MCRMB平台。带来不便，敬请原谅！
* `18号` 微信一清入口现暂停支持无执照入驻。仅接受个体户及企业入驻。

### 5月
* `17号` 微信一清在成功添加商户号后即自动开启并**实时生效**，不需要联系平台申请开通。添加商户号时我们将检测商户号是否可用。
* `8号` 微信支付代收已暂停，请各位需要继续使用微信支付的服主尽快接入[微信一清](yq)，个人、个体户、企业方式均支持。
* `8号` 修正支付宝充值订单展示页的扫码提示（当前支付宝接口为PC模式）。

### 4月
* `10号` 微信支付费率上调至10%，且可能在4月底停止非一清微信支付收款，请各位服主尽快接入[微信一清](yq)。

# 2020年

### 12月
* `30号` 插件版本更新至`2.0b19`，修正2个问题：
    * 1.12版本以前部分服务端出现地图可丢弃的情况；
    * Windows服务器下`b setup`指令无法自动保存SID和KEY到文件问题；

### 10月
* `27号` 卡密模式下的微信支付现已支持**一清模式**；
* `20号` **微信支付费率上调至8％**，因接口频繁异常造成资金损失。不得不上调费率，微信支付代收费率或将继续上调，甚至关闭非一清微信支付，建议各位服主尽快准备好接入微信一清：[说明文档](/yq)（暂免执照）。
* `12号` 修正累计奖励API接口中开始和结束时间同时存在的情况下无法返回正确值的问题；
* `1号` 修正卡密模式商品列表中商品描述为空时无法点击修改的问题；

### 9月
* `27号` 卡密模式的支付改为每次支付即结算到服主账户，并将强制结算改为强制发卡，**玩家超额的支付也将全部结算到服主账户**；
* `27号` 充值卡充值渠道独立为模块；
* `24号` 修正服务器列表无法更新秘钥KEY问题，并在更新后显示新KEY；
* `8号` 微信支付投诉获取逻辑修正；

### 8月
* `23号` MCRMB核心插件更新至`2.0b18` [下载](http://ci.mcrmb.com/job/Mcrmb/lastSuccessfulBuild/artifact/pg/)，新增累计充值奖励功能:
    * /b list 列出累计充值奖励活动
    * /b get <奖励代码> 领取充值奖励
    * 可使用云平台的玩家列表的累计充值点券作为判断基础: 累计值可在平台清零,不支持时间段,不支持人民币,不支持渠道
    * 可使用云平台的真实充值流水作为判断基础: 支持时间段(限时活动),支持支付渠道筛选,基数为人民币,三种模式:累计满领奖/单笔满领奖/多笔达标领奖(相当于充送)
    * 更新插件后, 请在jar包内复制出最新版本的`config.yml`进行参考配置~
    * 修正扫码功能下1.9以后客户端版本玩家使用F键保留地图的问题；
    * transfer_mode_cmds的命令设置新增一个{timestamp}变量可兼容一些累计充值统计插件；
* `22号` 新增API`PlayerStat`用于配合插件进行累计充值奖励；
* `19号` 前端访问速度优化，并去掉一些历史版本文件；
* `18号` 商户号列表加入投诉数量统计，点击可直接跳转投诉列表查看；
* `18号` 全新的卡密前端管理系统，查看商品、库存、售出等更加方便；
* `15号` 部分页面使用GZIP优化访问速度；
* `14号` 微信支付订单有效期设置为1个小时；
* `14号` 点券模式`充值明细`与`玩家流水`均加入快捷操作，点击玩家名可见；
* `13号` 优化玩家流水层数据库索引，提升查询速度；
* `12号` 新版玩家列表、充值记录、点券明细已上线，均增强搜索功能：
  * 充值记录界面展示近90日小结，可自行选择其他时间段；
  * 新的玩家点券增减界面，可直接搜索SID或服务器名进行操作；
  * 账户流水关联ID改进为关联订单按钮，可直接点开查看；
  * 新的玩家列表，点券清零功能可细化选择清零余额，或清零累计值，如需批量操作请到服务器列表；
* `11号` 投诉列表加入订单关联服务器名称显示;
* `11号` 玩家充值记录加入小计、修正微信充值余额的记录类型错误问题；
* `10号` 服务器列表新增 `点券清零` 功能，该功能可选择
  * 清零SID内所有玩家余额；
  * 清零SID内所有玩家累计充值和累计消费；
  * 清零SID内所有玩家余额、累计充值、累计消费；
* `10号` 因数据量较大，查询速度缓慢，取 `消玩家名`、`消费备注` 模糊搜索，搜索请完整输入。
* `9号` 更新SID专用商户号功能，有多个商户号的服主可以分配至不同SID。
* `7号` SidPannel独立管理面板的统计图表修正时间统计问题（原使用下单时间统计，现使用支付完成时间统计）

### 7月
* `30号` 服务器列表界面更新，展示更快，点击服务器名字可以查看今日统计；
* `29号` 核心插件更新至 `2.0b17` ，新功能等您来体验，BUG反馈：`702048@qq.com`：
  * Add 扫码功能更新，玩家充值过程中将自动持续检测是否完成支付并执行相应逻辑；  
  * Add 自定义指令转入功能`transfer_mode`，类似转入PlayerPoints模式，但可以自定义多个指令，兼容性提升；  
  * Add 新增`separator`配置用于自定义系统频繁出现的分隔线；    
  * Add 扫码请求API `PayApi.RequestQr` ，返回二维码内容及订单ID，方便开发者深度定制；  
  * Add 新的事件：扫码请求事件`QrRequestEvent`、扫码支付结果轮询事件`QrDoneEvent`，方便开发者深度定制；  
  * Fix 修正PayApi.Pay中公告逻辑在后续服务端版本中产生的 `Asynchronous entity track!` 报错；
* `28号` 新增平台层API `Qrpay_order` `Qrpay_done` ，配合插件2.0b17；
* `26号` 新的微信支付方式，扫码后微信内确认支付，解决用户只有一部手机支付的问题，长按、相册照片扫码均可正常支付了；
* `24号` 修正ios safari下输入框的圆角；
* `23号` 加入手机号取回账号密码功能；
* `18号` 增加一个API用于查询服务器最近的充值明细： `api/chargeRecord`；
* `9号` 改进以下后台模块的前端，加快翻页速度，增加一些筛选功能更：商户明细、提现记录、投诉记录；
* `8号` 加入商户管理系统，可以自行增加及管理商户号；

### 6月
* `15号` 取消订单ID+订单密码的URL方式，统一展示为订单长ID。
* `14号` FK系统，商品库存等于10件及少于3件时将发送邮件提醒。
* `9号` 改进实名认证功能：实名充值过的玩家，后续在游戏内二维码扫码充值不需要再次实名。

### 5月
* `29号` 充值模块重构，微信、支付宝、QQ钱包改进为统一的入口。
* `18号` 核心插件更新至2.0b16，增加了一些选项：退出二维码后自动查最新余额、进服自动转换到PlayerPoints开关、限制单个玩家二维码充值开关，请KC服务器服主在更新此版本后将。 
* `11号` 微信支付恢复使用，因使用成本提高，微信结算下调至`94%`，后续可能限制每个账号单日可代收的限额，建议各位服主尽快接入自己的一清，申请至上线最快数分钟可完成，联系QQ`702048`。
* `9号` 微信支付非一清接口被冻结停止使用，希望各位服主尽量控制好服务器内投诉，可接入一清，费率更低，资金更安全。
* `8号` QQ支付、微信支付订单前端部分优化，如果有抓取订单页面的服主，请更新，数据可在页面内接口直接抓取~
* `7号` 帮助文档地址迁移为 http://www.mcrmb.com/help
* `6号` 更新前端font-awesome库图标，通知邮件的乱码修复。

### 4月
* `30日` 更新充值页面工作方式，加入更多Ajax协助实现功能，彻底去除旧的设置信息（Logo、VIP、官网URL），如果发现您的充值页不显示这些内容了，请到服务器设置页下方自定义区重新设置一下。
* `27日` 更新支付宝订单支付界面，更多采用Ajax协助完成。如果有直接抓取支付宝订单支付界面的服务器，使用页面内Ajax接口来获取二维码。
* `23日` 更新核心插件，新增一些扫码支付相关的控制指令，修正地图残留的问题。 版本号`2.0b13`，[下载地址](https://ci.mcrmb.com/job/MCRMB/)
* `14日` 服务器列表页面简化，将点券、发卡模式的功能按钮改为点击后弹出。
* `13日` 服务器列表中可以重置 `服务器key` 了，如果您的key泄露，请重置，注意要同时修改插件配置。
* `13日` 手动增加的点券，是否计入玩家的 `累计充值` 现在可以自定义了，请到 `服务器设置` 中开启或关闭计入，默认是计入状态；
* `9日` 新增微信支付投诉页面，投诉内容源自微信支付；
* `8日` 接入短信验证码，请没有绑定手机号的服主尽快 [绑定](http://www.mcrmb.com/Main/editProfile)；
* 核心插件更新至 `2.0b12`
  * 扫码功能增加对CatServer及KCauldron的支持，其他MOD服如果有无法展示二维码的情况，尝试打开config.yml中的开关 `qrpay_compatible: true`
  * 优化二维码Render的逻辑，扫码支付功能占用资源减少；
  * 完善游戏内扫码功能开关，可选择关闭。默认是开启状态 `qrpay_ingame: true`
  * 修正Manual中的缓存调用报错问题，PlayerPoints转入模式易发；

### 3月

* 核心插件新增  `/b cancel` 指令用于强行退出充值模式；
* 核心插件 `/b debug` 指令加入主线程判断逻辑，优化插件提示，新增公告、版本读取；
* 核心插件加入PAPI变量2个： `%mcrmb_recharge%` 、 `%mcrmb_consume%` 分别表示累计充值、累计消费；
***
# 2019年
### 9月

* 核心插件更新2.0版本，主要更新游戏内扫码。
  * 新增微信支付扫码功能，游戏内可以利用地图扫码支付。指令：/b wx &lt;金额&gt;
  * 新增PlayerPoints挂钩及转入模式，该模式下，玩家查mcrmb余额或入服时，将自动把点券余额转为PlayerPoints余额。 
  * 指令整理，去除/b admin \* 等指令，具体管理指令可在/b admin或/b status中查看。
  * /b setup 将不会影响config文件注释内容，也不会将中文变为乱码，方便服主配置，旧版插件建议可以删掉config.yml文件重新配置一次。
  * /b test 部分加入一个https测试项，去除两个没有意义的附加测试。
  * 优化logapi功能，将展示更多的api接口信息便于排查问题。
  * 插件不再区分UTF-8或GBK，内部强制为UTF-8，兼容老版本GBK格式。

### 7月

* Mcrmb系列插件更新至支持最新的1.14版本。 请前往我们的插件发布点：[ci.mcrmb.com](http://ci.mcrmb.com/)；
* 充值页面充值金额禁止小数点输入改为实时判断，防止玩家输入小数点后变为整数误充；

### 6月

* 启用钉钉-Mcrmb用户群组，多一个沟通渠道，并作为重要通知公告渠道，欢迎服主加入：[戳我加入](https://wx.dingtalk.com/invite-page/weixin.html?bizSource=____source____&corpId=ding8b76e4fccb8a01af&inviterUid=C3DEB6CCDEFA566399372A3FA1525DE6&encodeDeptId=C5CEB768DEA72AB991E7FE61FE0552A6)；

### 5月

* 平台登录验证码改为滑块式验证，方便服主们登录，高可信用户无需滑动验证（腾讯判断）；

### 4月

* 更换卡密消耗渠道，增加4个卡密种类，面额允许玩家自行输入；
* Mcrmb启用实名认证及微信一清，合法合规运营，接入一清请联络QQ702048，有费率优惠；
***
# 2018年
### 7月

* 优化支付宝提现模式以适应自动提现转账，极大缩短支付宝提现完成时间，后期将有条件的逐步开放自动转账功能，提现申请可实现秒到账。
* Mcrmb3个子插件：mcrmbShop、mcrmbVip、mcrmbDraw的Gui在1.13中异常的问题已经修正，请到http://ci.mcrmb.com/ 下载最新版本；卡密充值加入面值15（纵游一卡通）； 单次充值金额设置上限2000元； 单次提现金额设置上限50000元。
* 玩家充值点券时产生的小数点统一抹去，以配合插件正常运作（Mcrmb平台支持小数点点券，但绝大部分MC插件不支持）。

### 6月

* 充值页面增加提示，提示玩家防止误充或错充，充值所得点券前端进行简单计算展示（仅做展示参考）。微信提现开发测试中。

### 3月

* 修正自定义充值界面中的图片上传问题。

### 1月

* 为了初步接入微信【我的世界Minecraft圈】小程序，Mcrmb将登录页面进行了重构优化，在手机上也可以良好访问。欢迎大家在微信小程序中使用MCRMB。
***
# 2017年
### 4月

* 加入汇总查询功能： 汇总玩家列表、汇总增减点券、汇总充值记录；方便多个服务器的服主查看记录。
*  实名认证功能开启，非强制执行，但建议各位服主提前进行认证操作（暂不影响提现，后续可能强制要求）。[`马上认证`](//www.mcrmb.com/Main/editVertify) 密码储存方式加强为salt+原文加密方式，防止信息泄露导致的问题。
*  发卡功能充值页面加入玩家需要充值的金额计算，例如服主设置比率为200%，商品定价50，我们会提醒玩家只需要充值25即可。建议不要设置低于90%或高于110%的比率，避免玩家误解！
*  登陆及注册加入验证码功能，防止暴力破解，保障您的账户安全。并加入详细的登陆记录。查看记录功能即将开放。
*  服务器充值页面改进，针对IE进行修复优化服务器充值页面，保障XP及IE玩家的正常访问。

### 3月

* 服务器充值页面个性化设置升级、QQ微信支付增加提醒。
  * 服务器页面改进，开放更多个性化定制，前往 `服务器管理 -> 服务器设置` 按钮往下拉即可看到更新了的设置选项；
  * QQ支付及微信支付已新增判断支付逻辑，支付发起后2分钟内，玩家无需手动刷新即可在扫描页面收到充值成功通知，再也不怕玩家乱关网页。
  * 二级域名优化，原显示 `xxx.mcrmb.com/cz`，改进后直接体现为 `xxx.mcrmb.com`。
  * 二级域名/自有域名已支持发卡模式，请在 `服务器管理->服务器设置` 中选择您默认需要显示的模式；
  * 修复若干绿色短链导致的BUG，修复充值页右侧内容的小BUG，后台首页添加大字号余额显示。
* 界面更新同时增加以下功能：
  * 服务器管理分离，新增点券模式首页，玩家列表、流水记录、手工加减点券等都在内，更有总览统计图等服务器状况一目了然，玩家管理、充值记录不再混乱；
  * 新增两处金额遮蔽，保障服主隐私，可自由开关，设置跟随账号；
  * 支持服务器隐藏，不常用的服务器可以隐藏起来；
  * 支持玩家点券清零，仅清零数据，不清零历史记录，使用请慎重噢；
  * 更加详细的搜索功能，各种渠道订单搜索均变得更方便；
  * 后台模板带响应式，手机下也能正常查看内容，支持更换配色；
* QQ钱包已上线，同时支持财付通；
***
# 2016年
### 6月

* 6月22日，微信支付正式上线，服主可得96%。

### 2月

* 4月26日，启动全新帮助中心及工单中心，请输入关键词搜索问题答案。
* 2月20日，支持ScoreboardStats计分板插件，计分板变量为**%mcrmb%**
* 2月20日，MCRMB核心插件更新至版本1.0.4，加入InfoBoardReborn计分板插件支持！变量**&lt;mcrmb&gt;**，需要使用特制的InfoBoardReborn插件：下载地址【[百度盘](http://pan.baidu.com/s/1KzOZW)】。
* 2月13日，抽奖子插件上线，可选点券或游戏币抽奖，需要前置插件Vault。
* 2月5日，子插件开始支持面板GUI，更加方便玩家购买！

### 1月

* 1月20日，增加支付密码忘记功能，邮箱重设改为必须填写密码。
* 1月份，插件修改，核心插件支持计分板显示点券余额，SHOP插件加入库存以及限购，测试中。

***
# 2015年
### 10月

* 10月5日，增加完善部分卡密的卡密长度：天下（15,8），网易（13,9），完美（10,15），天宏（12,15）。
* 10月4日，支付密码功能完成，建议各位服主都设置好支付密码以防损失。
* 10月4日，取回密码功能修复完成，忘记密码可取回，修改邮箱需邮件确认。
* 10月3日，支付宝功能自助设置玩家费率完成，请各位服主自行打开支付宝。
* 10月2日，提现后台初步建立完成，可加速提现效率。
* 10月1日，支付宝测试上线，服主可得97%，暂不可设置玩家可得比率，下一阶段将继续完善。

### 9月

* 9月30日，资金变动部分的关联ID改进显示，BR=服务器流水ID，C=玩家提交的卡密订单ID，A=玩家提交的支付宝订单ID。下一步将继续完善详情显示。
* 9月30日，修复部分菜单没有ID显示的BUG，例如提现ID。
* 9月22日，支付宝支付功能前端界面加入完毕。

### 8月

* 8月10日，支付宝支付渠道研发开始。
* 8月8日，开放搜狐、久游、光宇、天下、天宏卡密渠道。
* 8月2日，加强接口安全性能，防止高并发带来的金额扣除错误。

### 4月

* 4月12日，增加一台服务器用于服主自有域名解析，从此服主使用自己的域名来指向充值页面不再需要备案。
* 4月10日，开放完美卡、征途卡（巨人卡）、网易卡。

### 3月

* 3月22日，插件下载开放，在服主界面中可见。
* 3月16日，手工加款接口完善，有开发能力的服主可以向我们获取接口信息，自行写应用进行手工加款。
* 3月15日，增加服务器收入统计查看页，服主可以直观的看到自己服务器当月与当天的捐款额。
* 3月14日，精简玩家登陆后的界面，不显示服主操作项。 服主身份用户登陆才会显示。
* 3月13日，增加玩家搜索功能，服主可以方便的搜索查看自己的某个玩家余额。同时一些与玩家相关的列表，点击玩家名将自动跳转到显示玩家余额的界面。
* 3月13日，服主现在可以自行设定玩家的充值费率了，请到 [MCRMB后台](http://www.mcrmb.com/)-&gt;[我的服务器](http://www.mcrmb.com/Main/showMyServer)-&gt;费率设置 中设置每种卡密的充值折算率！
* 3月11日，提现功能完善，增加财付通支持！ 只有财付通的同学也可以使用本系统了！
* 3月11日，费率计算系统重做，因支持更多卡种，手续费不一，因此手续费不再是在提现时体现。而是在玩家充值后直接展现在服主的流水中。因此提现不再收取手续费。
* 3月11日，支持更多卡密第一步完成。先行开放多3个常用卡种：骏卡、盛大卡、QQ卡。
* 3月1日，服主管理面板中的玩家列表加入3个操作，可查看玩家的【充值历史】、【消费历史】以及【卡密提交历史】，更加方便服主管理！
* 3月1日，MCRMB系统增加手动充值、手动消费功能，操作并不影响服主自身账号金额，仅操作服务器内玩家的余额，在QQ卡骏卡支付宝等方式未加入平台之前，方便服主操作！

### 2月

* 2月27日，McrmbVip插件开始测试运行。
* 2月24日，帮助说明中加入“系统改进历程”。
* 2月24日，服务器流水记录说明细化，充值卡充值方式将说明是何种卡。
* 2月21日，服主查看玩家时可以进行排序查看。
* 2月20日，帮助文档完善，改为路径/help。
* 2月19日，增加服主功能：可查看自己的服务器的玩家记录。
* 2月19日，增加服主功能：可查看玩家提交的充值卡密。可只看成功卡密。
* 2月18日，MCRMB系统测试上线。
* 2月5日，完成Api接口。

### 1月

* 1月14日，系统完成备案及认证。

***
# 2014年
### 11月

* 11月21日，开始构建MCRMB系统。

